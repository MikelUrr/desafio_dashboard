import React from "react";
import { useState } from "react";
import { useNavigate } from "react-router-dom";
import {loginApi} from './../js/fetch.js';


const Login = () => {
    const [formData, setFormData] = useState({  
        email: "",
        password: "",
    });
    const [passwordVisible, setPasswordVisible] = useState(false);
    const navigate = useNavigate();

    const eye = 'eye.svg';
    const eyeslash = 'eyeslash.svg';
    const user = 'user.svg';

    const handleTogglePassword = () => {
        setPasswordVisible(!passwordVisible);
    }
    const handleLogin = async (e) => {
        e.preventDefault();
       const response= await loginApi(formData);
       if(response.status===403){
           alert("Usuario no autorizado");
       }else{
              navigate('/dashboard');
       }

    }


    return (
        <div className="login-container">
            <h1 className="login-title"><svg width="600" height="103" viewBox="0 0 600 103" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M521.735 80.8703L505.844 39.5942H515.438L529.01 75.4208H524.476L543.665 22.7406H552.205L570.971 75.4208H566.543L590.933 0.796356H600L573.607 80.8703H563.907L546.3 32.7676H549.253L531.435 80.8703H521.735Z" fill="#FF9F1C"/>
<path d="M468.481 81.5241C462.858 81.5241 457.868 80.2526 453.51 77.7095C449.152 75.1664 445.708 71.6788 443.178 67.2465C440.647 62.7416 439.382 57.6555 439.382 51.988C439.382 46.2479 440.647 41.1617 443.178 36.7295C445.708 32.2973 449.152 28.8459 453.51 26.3755C457.868 23.8324 462.858 22.5609 468.481 22.5609C474.034 22.5609 478.989 23.8324 483.347 26.3755C487.775 28.8459 491.219 32.2973 493.679 36.7295C496.21 41.0891 497.475 46.1752 497.475 51.988C497.475 57.7281 496.21 62.8143 493.679 67.2465C491.219 71.6788 487.775 75.1664 483.347 77.7095C478.989 80.2526 474.034 81.5241 468.481 81.5241ZM468.481 72.369C472.066 72.369 475.264 71.5334 478.075 69.8623C480.957 68.1911 483.206 65.8297 484.823 62.778C486.44 59.6536 487.248 56.057 487.248 51.988C487.248 47.8464 486.44 44.2861 484.823 41.3071C483.206 38.2554 480.957 35.8939 478.075 34.2227C475.264 32.5516 472.066 31.716 468.481 31.716C464.896 31.716 461.698 32.5516 458.887 34.2227C456.075 35.8939 453.826 38.2554 452.139 41.3071C450.452 44.2861 449.609 47.8464 449.609 51.988C449.609 56.057 450.452 59.6536 452.139 62.778C453.826 65.8297 456.075 68.1911 458.887 69.8623C461.698 71.5334 464.896 72.369 468.481 72.369Z" fill="#5F6AFF"/>
<path d="M415.1 80.8701V0H425.221V80.8701H415.1Z" fill="#5F6AFF"/>
<path d="M359.142 40.6532H397.203V50.0262H359.142V40.6532ZM360.197 80.8702H349.653V4.57767H401.736V14.0597H360.197V80.8702Z" fill="#5F6AFF"/>
<path d="M291.708 102.668C289.037 102.668 286.436 102.196 283.906 101.251C281.376 100.379 279.197 99.0712 277.369 97.3274L281.692 89.4801C283.098 90.8607 284.644 91.9142 286.331 92.6408C288.018 93.3674 289.81 93.7307 291.708 93.7307C294.168 93.7307 296.206 93.0768 297.823 91.7689C299.439 90.4611 300.951 88.1359 302.356 84.7936L305.836 76.8374L306.89 75.5295L328.82 23.1056H338.73L311.634 86.6464C310.018 90.7154 308.19 93.9124 306.152 96.2375C304.184 98.5626 302.005 100.197 299.615 101.142C297.225 102.159 294.59 102.668 291.708 102.668ZM304.992 82.7228L279.478 23.1056H290.021L311.74 74.5486L304.992 82.7228Z" fill="#5F6AFF"/>
<path d="M248.588 81.5241C243.949 81.5241 239.696 80.4343 235.83 78.2545C232.035 76.002 228.977 72.696 226.658 68.3364C224.409 63.9769 223.284 58.5274 223.284 51.988C223.284 45.4487 224.374 39.9992 226.552 35.6396C228.802 31.28 231.824 28.0104 235.62 25.8306C239.485 23.6508 243.808 22.5609 248.588 22.5609C254.07 22.5609 258.92 23.7961 263.137 26.2665C267.354 28.737 270.693 32.1883 273.153 36.6205C275.613 40.9801 276.843 46.1026 276.843 51.988C276.843 57.8734 275.613 63.0323 273.153 67.4645C270.693 71.8967 267.354 75.3481 263.137 77.8185C258.92 80.2889 254.07 81.5241 248.588 81.5241ZM218.961 102.014V23.1058H228.661V38.6913L228.029 52.097L229.083 65.5027V102.014H218.961ZM247.744 72.369C251.329 72.369 254.527 71.5334 257.338 69.8623C260.22 68.1911 262.469 65.8297 264.086 62.778C265.773 59.6536 266.616 56.057 266.616 51.988C266.616 47.8464 265.773 44.2861 264.086 41.3071C262.469 38.2554 260.22 35.8939 257.338 34.2227C254.527 32.5516 251.329 31.716 247.744 31.716C244.23 31.716 241.032 32.5516 238.15 34.2227C235.338 35.8939 233.089 38.2554 231.402 41.3071C229.786 44.2861 228.977 47.8464 228.977 51.988C228.977 56.057 229.786 59.6536 231.402 62.778C233.089 65.8297 235.338 68.1911 238.15 69.8623C241.032 71.5334 244.23 72.369 247.744 72.369Z" fill="#5F6AFF"/>
<path d="M176.722 81.5241C172.083 81.5241 167.83 80.4343 163.965 78.2545C160.169 76.002 157.112 72.696 154.792 68.3364C152.543 63.9769 151.418 58.5274 151.418 51.988C151.418 45.4487 152.508 39.9992 154.687 35.6396C156.936 31.28 159.958 28.0104 163.754 25.8306C167.62 23.6508 171.942 22.5609 176.722 22.5609C182.204 22.5609 187.054 23.7961 191.271 26.2665C195.489 28.737 198.827 32.1883 201.287 36.6205C203.747 40.9801 204.977 46.1026 204.977 51.988C204.977 57.8734 203.747 63.0323 201.287 67.4645C198.827 71.8967 195.489 75.3481 191.271 77.8185C187.054 80.2889 182.204 81.5241 176.722 81.5241ZM147.096 102.014V23.1058H156.795V38.6913L156.163 52.097L157.217 65.5027V102.014H147.096ZM175.878 72.369C179.463 72.369 182.661 71.5334 185.473 69.8623C188.354 68.1911 190.604 65.8297 192.22 62.778C193.907 59.6536 194.751 56.057 194.751 51.988C194.751 47.8464 193.907 44.2861 192.22 41.3071C190.604 38.2554 188.354 35.8939 185.473 34.2227C182.661 32.5516 179.463 31.716 175.878 31.716C172.364 31.716 169.166 32.5516 166.284 34.2227C163.473 35.8939 161.223 38.2554 159.536 41.3071C157.92 44.2861 157.112 47.8464 157.112 51.988C157.112 56.057 157.92 59.6536 159.536 62.778C161.223 65.8297 163.473 68.1911 166.284 69.8623C169.166 71.5334 172.364 72.369 175.878 72.369Z" fill="#5F6AFF"/>
<path d="M118.77 80.8702V68.6634L118.243 66.3746V45.5576C118.243 41.1254 116.978 37.7104 114.448 35.3126C111.988 32.8422 108.262 31.607 103.272 31.607C99.9684 31.607 96.7352 32.1883 93.5722 33.3508C90.4093 34.4407 87.7384 35.9302 85.5595 37.8194L81.3422 29.9722C84.224 27.5744 87.6681 25.7579 91.6745 24.5227C95.7511 23.2148 100.004 22.5609 104.432 22.5609C112.093 22.5609 117.997 24.4864 122.144 28.3373C126.291 32.1883 128.365 38.0737 128.365 45.9936V80.8702H118.77ZM100.425 81.5241C96.2783 81.5241 92.6234 80.7975 89.4604 79.3443C86.3678 77.8912 83.978 75.893 82.2911 73.3499C80.6042 70.7342 79.7607 67.7915 79.7607 64.5218C79.7607 61.3974 80.4636 58.5637 81.8694 56.0206C83.3454 53.4775 85.7 51.4431 88.9333 49.9172C92.2368 48.3914 96.6649 47.6284 102.218 47.6284H119.93V55.1487H102.639C97.5786 55.1487 94.1697 56.0206 92.4125 57.7645C90.6553 59.5083 89.7767 61.6154 89.7767 64.0858C89.7767 66.9196 90.8662 69.2083 93.0451 70.9522C95.224 72.6233 98.2464 73.4589 102.112 73.4589C105.908 73.4589 109.211 72.587 112.023 70.8432C114.904 69.0994 116.978 66.5563 118.243 63.2139L120.246 70.4072C118.911 73.8222 116.556 76.547 113.182 78.5814C109.809 80.5432 105.556 81.5241 100.425 81.5241Z" fill="#5F6AFF"/>
<path d="M52.9265 4.57767H63.4696V80.8702H52.9265V4.57767ZM10.5431 80.8702H0V4.57767H10.5431V80.8702ZM53.8754 46.8655H9.48881V37.3835H53.8754V46.8655Z" fill="#5F6AFF"/>
</svg>

</h1>
   {/*          <div className="login-description">
                <p>Un empleado feliz es un empleado productivo. <div className="confia"><span>Confía en </span><svg width="154" height="26" viewBox="0 0 154 26" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M133.912 20.079L129.833 9.8307H132.296L135.779 18.726H134.616L139.541 5.64617H141.732L146.549 18.726H145.413L151.673 0.197693H154L147.226 20.079H144.736L140.217 8.13575H140.975L136.402 20.079H133.912Z" fill="#FF9F1C"/>
<path d="M120.243 20.2414C118.8 20.2414 117.519 19.9257 116.401 19.2943C115.282 18.6628 114.398 17.7969 113.749 16.6964C113.099 15.5779 112.775 14.3151 112.775 12.9079C112.775 11.4827 113.099 10.2199 113.749 9.11945C114.398 8.01898 115.282 7.16206 116.401 6.54869C117.519 5.91727 118.8 5.60156 120.243 5.60156C121.669 5.60156 122.94 5.91727 124.059 6.54869C125.196 7.16206 126.079 8.01898 126.711 9.11945C127.36 10.2019 127.685 11.4647 127.685 12.9079C127.685 14.3331 127.36 15.596 126.711 16.6964C126.079 17.7969 125.196 18.6628 124.059 19.2943C122.94 19.9257 121.669 20.2414 120.243 20.2414ZM120.243 17.9683C121.163 17.9683 121.984 17.7608 122.706 17.3459C123.446 16.931 124.023 16.3446 124.438 15.5869C124.853 14.8112 125.06 13.9182 125.06 12.9079C125.06 11.8796 124.853 10.9957 124.438 10.256C124.023 9.4983 123.446 8.91198 122.706 8.49705C121.984 8.08212 121.163 7.87466 120.243 7.87466C119.323 7.87466 118.503 8.08212 117.781 8.49705C117.059 8.91198 116.482 9.4983 116.049 10.256C115.616 10.9957 115.4 11.8796 115.4 12.9079C115.4 13.9182 115.616 14.8112 116.049 15.5869C116.482 16.3446 117.059 16.931 117.781 17.3459C118.503 17.7608 119.323 17.9683 120.243 17.9683Z" fill="#5F6AFF"/>
<path d="M106.542 20.079V0H109.14V20.079H106.542Z" fill="#5F6AFF"/>
<path d="M92.1797 10.0936H101.949V12.4209H92.1797V10.0936ZM92.4503 20.079H89.7443V1.13657H103.112V3.49084H92.4503V20.079Z" fill="#5F6AFF"/>
<path d="M74.8717 25.4911C74.1861 25.4911 73.5186 25.3739 72.8692 25.1393C72.2197 24.9229 71.6605 24.5981 71.1914 24.1652L72.3009 22.2168C72.6617 22.5596 73.0586 22.8211 73.4916 23.0016C73.9245 23.182 74.3846 23.2722 74.8717 23.2722C75.5031 23.2722 76.0262 23.1098 76.4412 22.7851C76.8561 22.4603 77.244 21.883 77.6048 21.0532L78.4978 19.0778L78.7684 18.753L84.397 5.73685H86.9407L79.9861 21.5132C79.5712 22.5235 79.1021 23.3173 78.579 23.8946C78.0738 24.4718 77.5146 24.8778 76.9012 25.1123C76.2878 25.3648 75.6113 25.4911 74.8717 25.4911ZM78.2813 20.539L71.7326 5.73685H74.4387L80.0132 18.5095L78.2813 20.539Z" fill="#5F6AFF"/>
<path d="M63.8042 20.2414C62.6135 20.2414 61.5221 19.9708 60.5298 19.4296C59.5557 18.8703 58.7709 18.0495 58.1756 16.967C57.5983 15.8846 57.3096 14.5316 57.3096 12.9079C57.3096 11.2843 57.5892 9.93127 58.1485 8.84884C58.7258 7.76642 59.5015 6.9546 60.4757 6.41338C61.4679 5.87217 62.5774 5.60156 63.8042 5.60156C65.2113 5.60156 66.4561 5.90825 67.5386 6.52163C68.621 7.135 69.4779 7.99192 70.1093 9.09239C70.7407 10.1748 71.0564 11.4467 71.0564 12.9079C71.0564 14.3692 70.7407 15.6501 70.1093 16.7506C69.4779 17.851 68.621 18.7079 67.5386 19.3213C66.4561 19.9347 65.2113 20.2414 63.8042 20.2414ZM56.2001 25.3288V5.73687H58.6897V9.60654L58.5273 12.935L58.798 16.2635V25.3288H56.2001ZM63.5877 17.9683C64.5078 17.9683 65.3286 17.7608 66.0502 17.3459C66.7899 16.931 67.3672 16.3446 67.7821 15.5869C68.2151 14.8112 68.4316 13.9182 68.4316 12.9079C68.4316 11.8796 68.2151 10.9957 67.7821 10.256C67.3672 9.4983 66.7899 8.91198 66.0502 8.49705C65.3286 8.08212 64.5078 7.87466 63.5877 7.87466C62.6857 7.87466 61.8648 8.08212 61.1252 8.49705C60.4036 8.91198 59.8263 9.4983 59.3933 10.256C58.9784 10.9957 58.7709 11.8796 58.7709 12.9079C58.7709 13.9182 58.9784 14.8112 59.3933 15.5869C59.8263 16.3446 60.4036 16.931 61.1252 17.3459C61.8648 17.7608 62.6857 17.9683 63.5877 17.9683Z" fill="#5F6AFF"/>
<path d="M45.3585 20.2414C44.1679 20.2414 43.0764 19.9708 42.0842 19.4296C41.11 18.8703 40.3253 18.0495 39.7299 16.967C39.1526 15.8846 38.864 14.5316 38.864 12.9079C38.864 11.2843 39.1436 9.93127 39.7029 8.84884C40.2801 7.76642 41.0559 6.9546 42.0301 6.41338C43.0223 5.87217 44.1318 5.60156 45.3585 5.60156C46.7657 5.60156 48.0105 5.90825 49.0929 6.52163C50.1753 7.135 51.0323 7.99192 51.6637 9.09239C52.2951 10.1748 52.6108 11.4467 52.6108 12.9079C52.6108 14.3692 52.2951 15.6501 51.6637 16.7506C51.0323 17.851 50.1753 18.7079 49.0929 19.3213C48.0105 19.9347 46.7657 20.2414 45.3585 20.2414ZM37.7545 25.3288V5.73687H40.2441V9.60654L40.0817 12.935L40.3523 16.2635V25.3288H37.7545ZM45.142 17.9683C46.0621 17.9683 46.8829 17.7608 47.6046 17.3459C48.3442 16.931 48.9215 16.3446 49.3364 15.5869C49.7694 14.8112 49.9859 13.9182 49.9859 12.9079C49.9859 11.8796 49.7694 10.9957 49.3364 10.256C48.9215 9.4983 48.3442 8.91198 47.6046 8.49705C46.8829 8.08212 46.0621 7.87466 45.142 7.87466C44.24 7.87466 43.4192 8.08212 42.6795 8.49705C41.9579 8.91198 41.3806 9.4983 40.9476 10.256C40.5327 10.9957 40.3252 11.8796 40.3252 12.9079C40.3252 13.9182 40.5327 14.8112 40.9476 15.5869C41.3806 16.3446 41.9579 16.931 42.6795 17.3459C43.4192 17.7608 44.24 17.9683 45.142 17.9683Z" fill="#5F6AFF"/>
<path d="M30.4844 20.079V17.0482L30.3491 16.48V11.3114C30.3491 10.2109 30.0243 9.363 29.3749 8.76766C28.7435 8.15429 27.7873 7.8476 26.5065 7.8476C25.6586 7.8476 24.8287 7.99192 24.0169 8.28057C23.205 8.55118 22.5195 8.921 21.9603 9.39006L20.8778 7.44169C21.6175 6.84635 22.5015 6.39534 23.5298 6.08866C24.5761 5.76393 25.6676 5.60156 26.8041 5.60156C28.7705 5.60156 30.2859 6.07963 31.3503 7.03578C32.4147 7.99192 32.9469 9.4532 32.9469 11.4196V20.079H30.4844ZM25.7758 20.2414C24.7114 20.2414 23.7733 20.061 22.9615 19.7002C22.1677 19.3394 21.5543 18.8432 21.1214 18.2118C20.6884 17.5624 20.4719 16.8317 20.4719 16.0199C20.4719 15.2442 20.6523 14.5406 21.0131 13.9092C21.392 13.2778 21.9963 12.7726 22.8262 12.3938C23.6741 12.0149 24.8107 11.8255 26.2358 11.8255H30.782V13.6927H26.3441C25.0452 13.6927 24.1702 13.9092 23.7192 14.3422C23.2682 14.7751 23.0427 15.2983 23.0427 15.9117C23.0427 16.6153 23.3223 17.1835 23.8816 17.6165C24.4408 18.0314 25.2166 18.2389 26.2088 18.2389C27.183 18.2389 28.0309 18.0224 28.7525 17.5894C29.4921 17.1565 30.0243 16.5251 30.3491 15.6952L30.8632 17.4812C30.5204 18.3291 29.9161 19.0056 29.0502 19.5107C28.1842 19.9978 27.0928 20.2414 25.7758 20.2414Z" fill="#5F6AFF"/>
<path d="M13.5845 1.13657H16.2905V20.079H13.5845V1.13657ZM2.70607 20.079H0V1.13657H2.70607V20.079ZM13.828 11.6361H2.43546V9.28183H13.828V11.6361Z" fill="#5F6AFF"/>
</svg></div>
 </p>
            </div> */}
            <div className="login-form">
                <form className="form-login"  onSubmit={handleLogin}>
                    <div className="login-form-group">
                        <input type="text" placeholder="Usuario" name="usuario" required className="form-input"  value={formData.email}
                        onChange={(e) => setFormData({ ...formData, email: e.target.value })} />
                        <img src={user} alt="Icono de usuario" width={24} height={24} />
                    </div>
                    <div className='password-container'>
                        <input
                            type={passwordVisible ? 'text' : 'password'}
                            name="password"
                            placeholder="Password"
                            value={formData.password}
                            onChange={(e) => setFormData({ ...formData, password: e.target.value })}
                            autoComplete="current-password"
                            className='login-password'
                        />
                        <span className="eye-button" onClick={handleTogglePassword}>
                        <img src={passwordVisible ? eye : eyeslash} alt="Icono de contraseña" width={24} height={24} />
                        </span>
                    </div>
                    <div className="login-form-text">
                        <div className="remember-me">
                        <input type="checkbox" name="recordar" id="recordar" className="form-checkbox" />
                        <label htmlFor="recordar" className="form-label">Remember me</label>
                        </div>
                        <p className="forgot-password">Forgot Password?</p>
                    </div>
                    <div className="login-form-group-button">
                        <button type="submit" className="form-button"onClick={handleLogin}>Iniciar sesión</button>
                    </div>
                </form>
            </div>
        </div>
    );
}

export default Login;
