import React from "react";
import { useState } from "react";
import { useNavigate } from "react-router-dom";
import {loginApi} from './../js/fetch.js';


const Login = () => {
    const [formData, setFormData] = useState({  
        email: "",
        password: "",
    });
    const [passwordVisible, setPasswordVisible] = useState(false);
    const navigate = useNavigate();

    const eye = 'eye.svg';
    const eyeslash = 'eyeslash.svg';
    const user = 'user.svg';

    const handleTogglePassword = () => {
        setPasswordVisible(!passwordVisible);
    }
    const handleLogin = async (e) => {
        e.preventDefault();
       const response= await loginApi(formData);
       console.log("zsdkgdsnfgkfdsgdfjgd",response);
       if(response.status===403){
           alert("Usuario no autorizado");
       }else if(response.status===400){
              alert("Usuario o contraseña incorrectos");
       }
       else{
              navigate('/dashboard');
       }

    }


    return (
        <div className="login-container">
            <h1 className="login-title"><svg width="560" height="90" viewBox="0 0 560 90" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M428.899 71.7436C423.638 71.7436 418.954 70.6241 414.848 68.3852C410.742 66.0823 407.502 62.9478 405.128 58.9816C402.754 55.0155 401.567 50.5056 401.567 45.452C401.567 40.3344 402.754 35.8246 405.128 31.9224C407.502 27.9563 410.742 24.8538 414.848 22.6148C418.954 20.3759 423.638 19.2564 428.899 19.2564C434.224 19.2564 438.94 20.3759 443.046 22.6148C447.216 24.8538 450.456 27.9243 452.766 31.8265C455.14 35.7286 456.327 40.2705 456.327 45.452C456.327 50.5056 455.14 55.0155 452.766 58.9816C450.456 62.9478 447.216 66.0823 443.046 68.3852C438.94 70.6241 434.224 71.7436 428.899 71.7436ZM428.899 61.4764C431.85 61.4764 434.481 60.8368 436.79 59.5574C439.1 58.278 440.896 56.4228 442.18 53.992C443.527 51.5611 444.201 48.7145 444.201 45.452C444.201 42.1256 443.527 39.2789 442.18 36.9121C440.896 34.4812 439.1 32.6261 436.79 31.3467C434.481 30.0673 431.882 29.4276 428.995 29.4276C426.044 29.4276 423.413 30.0673 421.104 31.3467C418.858 32.6261 417.062 34.4812 415.714 36.9121C414.367 39.2789 413.693 42.1256 413.693 45.452C413.693 48.7145 414.367 51.5611 415.714 53.992C417.062 56.4228 418.858 58.278 421.104 59.5574C423.413 60.8368 426.012 61.4764 428.899 61.4764Z" fill="#5F6AFF"/>
<path d="M374.188 71.7436V1H387.878V71.7436H374.188Z" fill="#5F6AFF"/>
<path d="M330.44 71.7436V18.4734C330.44 13.1841 332.06 8.96534 335.301 5.81699C338.608 2.60566 343.303 1 349.387 1C351.57 1 353.62 1.22038 355.538 1.66115C357.522 2.10192 359.175 2.79456 360.498 3.73907L357.125 12.6174C356.199 11.9248 355.141 11.4211 353.951 11.1062C352.76 10.7284 351.537 10.5395 350.28 10.5395C347.701 10.5395 345.75 11.2322 344.427 12.6174C343.105 13.9397 342.443 15.9547 342.443 18.6623V24.3293L342.84 29.6186V71.7436H330.44ZM321.71 31.1298V21.6847H357.026V31.1298H321.71Z" fill="#5F6AFF"/>
<path d="M271.442 90C268.966 90 266.49 89.5964 264.014 88.7891C261.538 87.9819 259.475 86.8641 257.824 85.4359L262.586 76.8666C263.792 77.9222 265.157 78.7605 266.681 79.3815C268.204 80.0024 269.76 80.3129 271.347 80.3129C273.505 80.3129 275.251 79.7851 276.584 78.7295C277.917 77.6738 279.155 75.9041 280.298 73.4202L283.25 66.9L284.202 65.5029L303.438 21.5385H314.865L291.059 75.2831C289.472 79.0089 287.694 81.9585 285.726 84.1319C283.821 86.3052 281.663 87.8266 279.25 88.696C276.902 89.5653 274.299 90 271.442 90ZM281.917 73.0476L258.967 21.5385H271.347L290.011 64.4783L281.917 73.0476Z" fill="#5F6AFF"/>
<path d="M227.089 71.9856C222.904 71.9856 219.073 71.0217 215.596 69.0937C212.184 67.1658 209.447 64.2739 207.387 60.418C205.391 56.4978 204.393 51.5494 204.393 45.5728C204.393 39.5319 205.359 34.5835 207.291 30.7277C209.286 26.8718 211.991 24.012 215.403 22.1483C218.815 20.2204 222.711 19.2564 227.089 19.2564C232.175 19.2564 236.65 20.3489 240.513 22.5339C244.441 24.7189 247.531 27.7715 249.784 31.6916C252.102 35.6118 253.261 40.2388 253.261 45.5728C253.261 50.9068 252.102 55.566 249.784 59.5504C247.531 63.4705 244.441 66.5231 240.513 68.7081C236.65 70.8931 232.175 71.9856 227.089 71.9856ZM198.502 90L198.502 19.8348H209.995V31.9808L209.608 45.6692L210.574 59.3576L210.574 90H198.502ZM225.737 61.6711C228.634 61.6711 231.209 61.0285 233.463 59.7432C235.781 58.4579 237.616 56.5942 238.968 54.1522C240.32 51.7101 240.996 48.8503 240.996 45.5728C240.996 42.2311 240.32 39.3713 238.968 36.9935C237.616 34.5514 235.781 32.6877 233.463 31.4024C231.209 30.1171 228.634 29.4745 225.737 29.4745C222.839 29.4745 220.232 30.1171 217.914 31.4024C215.596 32.6877 213.761 34.5514 212.409 36.9935C211.057 39.3713 210.381 42.2311 210.381 45.5728C210.381 48.8503 211.057 51.7101 212.409 54.1522C213.761 56.5942 215.596 58.4579 217.914 59.7432C220.232 61.0285 222.839 61.6711 225.737 61.6711Z" fill="#5F6AFF"/>
<path d="M157.449 71.9856C153.438 71.9856 149.767 71.0217 146.435 69.0937C143.165 67.1658 140.542 64.2739 138.568 60.418C136.655 56.4978 135.699 51.5494 135.699 45.5728C135.699 39.5319 136.624 34.5835 138.475 30.7277C140.388 26.8718 142.98 24.012 146.25 22.1483C149.52 20.2204 153.253 19.2564 157.449 19.2564C162.323 19.2564 166.611 20.3489 170.314 22.5339C174.077 24.7189 177.039 27.7715 179.199 31.6916C181.42 35.6118 182.531 40.2388 182.531 45.5728C182.531 50.9068 181.42 55.566 179.199 59.5504C177.039 63.4705 174.077 66.5231 170.314 68.7081C166.611 70.8931 162.323 71.9856 157.449 71.9856ZM130.053 90L130.053 19.8348H141.067V31.9808L140.697 45.6692L141.622 59.3576V90H130.053ZM156.153 61.6711C158.93 61.6711 161.398 61.0285 163.557 59.7432C165.779 58.4579 167.537 56.5942 168.833 54.1522C170.128 51.7101 170.776 48.8503 170.776 45.5728C170.776 42.2311 170.128 39.3713 168.833 36.9935C167.537 34.5514 165.779 32.6877 163.557 31.4024C161.398 30.1171 158.93 29.4745 156.153 29.4745C153.376 29.4745 150.877 30.1171 148.656 31.4024C146.435 32.6877 144.676 34.5514 143.381 36.9935C142.085 39.3713 141.437 42.2311 141.437 45.5728C141.437 48.8503 142.085 51.7101 143.381 54.1522C144.676 56.5942 146.435 58.4579 148.656 59.7432C150.877 61.0285 153.376 61.6711 156.153 61.6711Z" fill="#5F6AFF"/>
<path d="M98.416 71.0719V60.7088L97.7574 58.5019V40.3664C97.7574 36.8481 96.7224 34.1294 94.6525 32.2103C92.5826 30.2272 89.4463 29.2357 85.2437 29.2357C82.4211 29.2357 79.6298 29.6835 76.8699 30.5791C74.1727 31.4746 71.8832 32.722 70.0015 34.3213L65.3911 25.5894C68.0883 23.4784 71.2873 21.9112 74.9881 20.8876C78.7516 19.8002 82.6406 19.2564 86.655 19.2564C93.9312 19.2564 99.5451 21.0476 103.497 24.6299C107.511 28.1482 109.518 33.6176 109.518 41.0381V71.0719H98.416ZM82.6092 71.7436C78.8457 71.7436 75.5526 71.1039 72.73 69.8245C69.9074 68.4811 67.712 66.658 66.1439 64.3551C64.6384 61.9882 63.8857 59.3335 63.8857 56.3909C63.8857 53.5122 64.5444 50.9214 65.8616 48.6185C67.2415 46.3156 69.4683 44.4925 72.5418 43.1491C75.6154 41.8058 79.6925 41.1341 84.7733 41.1341H99.3569V49.0983H85.62C81.6056 49.0983 78.9084 49.77 77.5285 51.1133C76.1485 52.3927 75.4586 53.992 75.4586 55.9111C75.4586 58.0861 76.3053 59.8132 77.9989 61.0926C79.6925 62.372 82.0447 63.0117 85.0555 63.0117C87.9409 63.0117 90.5126 62.34 92.7707 60.9967C95.0916 59.6533 96.7538 57.6702 97.7574 55.0475L99.7332 62.2441C98.6042 65.2507 96.5656 67.5856 93.6175 69.2488C90.7322 70.912 87.0627 71.7436 82.6092 71.7436Z" fill="#5F6AFF"/>
<path d="M27.6008 20.259C31.4874 20.259 34.9489 21.0536 37.9853 22.6426C41.0824 24.2316 43.5115 26.6787 45.2726 29.9839C47.0337 33.2255 47.9143 37.4206 47.9143 42.569V71.7436H36.5278V44.0945C36.5278 39.5816 35.4954 36.2129 33.4307 33.9883C31.4267 31.7636 28.6028 30.6513 24.9592 30.6513C22.2871 30.6513 19.9187 31.2233 17.854 32.3674C15.7892 33.5115 14.18 35.2277 13.0261 37.5159C11.933 39.7405 11.3865 42.569 11.3865 46.0013V71.7436H0V1H11.3865V34.5603L8.927 30.3653C10.6274 27.1236 13.0869 24.6448 16.3054 22.9286C19.5847 21.1489 23.3499 20.259 27.6008 20.259Z" fill="#5F6AFF"/>
<path d="M483.063 71.8373L483.126 71.9936H483.295H492.792H492.963L493.025 71.8342L508.784 31.3164L524.355 71.8333L524.417 71.9936H524.589H534.086H534.263L534.322 71.8266L559.236 1.08304L559.353 0.75H559H550.122H549.944L549.886 0.917507L529.256 59.9347L513.364 17.4466L513.303 17.2841H513.13H504.768H504.596L504.534 17.4448L488.15 60.2839L477.361 33.1588L477.299 33.0011H477.129H467.735H467.364L467.503 33.3448L483.063 71.8373Z" fill="#5F6AFF" stroke="#5F6AFF" stroke-width="0.5"/>
</svg>


</h1>
   {/*          <div className="login-description">
                <p>Un empleado feliz es un empleado productivo. <div className="confia"><span>Confía en </span><svg width="154" height="26" viewBox="0 0 154 26" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M133.912 20.079L129.833 9.8307H132.296L135.779 18.726H134.616L139.541 5.64617H141.732L146.549 18.726H145.413L151.673 0.197693H154L147.226 20.079H144.736L140.217 8.13575H140.975L136.402 20.079H133.912Z" fill="#FF9F1C"/>
<path d="M120.243 20.2414C118.8 20.2414 117.519 19.9257 116.401 19.2943C115.282 18.6628 114.398 17.7969 113.749 16.6964C113.099 15.5779 112.775 14.3151 112.775 12.9079C112.775 11.4827 113.099 10.2199 113.749 9.11945C114.398 8.01898 115.282 7.16206 116.401 6.54869C117.519 5.91727 118.8 5.60156 120.243 5.60156C121.669 5.60156 122.94 5.91727 124.059 6.54869C125.196 7.16206 126.079 8.01898 126.711 9.11945C127.36 10.2019 127.685 11.4647 127.685 12.9079C127.685 14.3331 127.36 15.596 126.711 16.6964C126.079 17.7969 125.196 18.6628 124.059 19.2943C122.94 19.9257 121.669 20.2414 120.243 20.2414ZM120.243 17.9683C121.163 17.9683 121.984 17.7608 122.706 17.3459C123.446 16.931 124.023 16.3446 124.438 15.5869C124.853 14.8112 125.06 13.9182 125.06 12.9079C125.06 11.8796 124.853 10.9957 124.438 10.256C124.023 9.4983 123.446 8.91198 122.706 8.49705C121.984 8.08212 121.163 7.87466 120.243 7.87466C119.323 7.87466 118.503 8.08212 117.781 8.49705C117.059 8.91198 116.482 9.4983 116.049 10.256C115.616 10.9957 115.4 11.8796 115.4 12.9079C115.4 13.9182 115.616 14.8112 116.049 15.5869C116.482 16.3446 117.059 16.931 117.781 17.3459C118.503 17.7608 119.323 17.9683 120.243 17.9683Z" fill="#5F6AFF"/>
<path d="M106.542 20.079V0H109.14V20.079H106.542Z" fill="#5F6AFF"/>
<path d="M92.1797 10.0936H101.949V12.4209H92.1797V10.0936ZM92.4503 20.079H89.7443V1.13657H103.112V3.49084H92.4503V20.079Z" fill="#5F6AFF"/>
<path d="M74.8717 25.4911C74.1861 25.4911 73.5186 25.3739 72.8692 25.1393C72.2197 24.9229 71.6605 24.5981 71.1914 24.1652L72.3009 22.2168C72.6617 22.5596 73.0586 22.8211 73.4916 23.0016C73.9245 23.182 74.3846 23.2722 74.8717 23.2722C75.5031 23.2722 76.0262 23.1098 76.4412 22.7851C76.8561 22.4603 77.244 21.883 77.6048 21.0532L78.4978 19.0778L78.7684 18.753L84.397 5.73685H86.9407L79.9861 21.5132C79.5712 22.5235 79.1021 23.3173 78.579 23.8946C78.0738 24.4718 77.5146 24.8778 76.9012 25.1123C76.2878 25.3648 75.6113 25.4911 74.8717 25.4911ZM78.2813 20.539L71.7326 5.73685H74.4387L80.0132 18.5095L78.2813 20.539Z" fill="#5F6AFF"/>
<path d="M63.8042 20.2414C62.6135 20.2414 61.5221 19.9708 60.5298 19.4296C59.5557 18.8703 58.7709 18.0495 58.1756 16.967C57.5983 15.8846 57.3096 14.5316 57.3096 12.9079C57.3096 11.2843 57.5892 9.93127 58.1485 8.84884C58.7258 7.76642 59.5015 6.9546 60.4757 6.41338C61.4679 5.87217 62.5774 5.60156 63.8042 5.60156C65.2113 5.60156 66.4561 5.90825 67.5386 6.52163C68.621 7.135 69.4779 7.99192 70.1093 9.09239C70.7407 10.1748 71.0564 11.4467 71.0564 12.9079C71.0564 14.3692 70.7407 15.6501 70.1093 16.7506C69.4779 17.851 68.621 18.7079 67.5386 19.3213C66.4561 19.9347 65.2113 20.2414 63.8042 20.2414ZM56.2001 25.3288V5.73687H58.6897V9.60654L58.5273 12.935L58.798 16.2635V25.3288H56.2001ZM63.5877 17.9683C64.5078 17.9683 65.3286 17.7608 66.0502 17.3459C66.7899 16.931 67.3672 16.3446 67.7821 15.5869C68.2151 14.8112 68.4316 13.9182 68.4316 12.9079C68.4316 11.8796 68.2151 10.9957 67.7821 10.256C67.3672 9.4983 66.7899 8.91198 66.0502 8.49705C65.3286 8.08212 64.5078 7.87466 63.5877 7.87466C62.6857 7.87466 61.8648 8.08212 61.1252 8.49705C60.4036 8.91198 59.8263 9.4983 59.3933 10.256C58.9784 10.9957 58.7709 11.8796 58.7709 12.9079C58.7709 13.9182 58.9784 14.8112 59.3933 15.5869C59.8263 16.3446 60.4036 16.931 61.1252 17.3459C61.8648 17.7608 62.6857 17.9683 63.5877 17.9683Z" fill="#5F6AFF"/>
<path d="M45.3585 20.2414C44.1679 20.2414 43.0764 19.9708 42.0842 19.4296C41.11 18.8703 40.3253 18.0495 39.7299 16.967C39.1526 15.8846 38.864 14.5316 38.864 12.9079C38.864 11.2843 39.1436 9.93127 39.7029 8.84884C40.2801 7.76642 41.0559 6.9546 42.0301 6.41338C43.0223 5.87217 44.1318 5.60156 45.3585 5.60156C46.7657 5.60156 48.0105 5.90825 49.0929 6.52163C50.1753 7.135 51.0323 7.99192 51.6637 9.09239C52.2951 10.1748 52.6108 11.4467 52.6108 12.9079C52.6108 14.3692 52.2951 15.6501 51.6637 16.7506C51.0323 17.851 50.1753 18.7079 49.0929 19.3213C48.0105 19.9347 46.7657 20.2414 45.3585 20.2414ZM37.7545 25.3288V5.73687H40.2441V9.60654L40.0817 12.935L40.3523 16.2635V25.3288H37.7545ZM45.142 17.9683C46.0621 17.9683 46.8829 17.7608 47.6046 17.3459C48.3442 16.931 48.9215 16.3446 49.3364 15.5869C49.7694 14.8112 49.9859 13.9182 49.9859 12.9079C49.9859 11.8796 49.7694 10.9957 49.3364 10.256C48.9215 9.4983 48.3442 8.91198 47.6046 8.49705C46.8829 8.08212 46.0621 7.87466 45.142 7.87466C44.24 7.87466 43.4192 8.08212 42.6795 8.49705C41.9579 8.91198 41.3806 9.4983 40.9476 10.256C40.5327 10.9957 40.3252 11.8796 40.3252 12.9079C40.3252 13.9182 40.5327 14.8112 40.9476 15.5869C41.3806 16.3446 41.9579 16.931 42.6795 17.3459C43.4192 17.7608 44.24 17.9683 45.142 17.9683Z" fill="#5F6AFF"/>
<path d="M30.4844 20.079V17.0482L30.3491 16.48V11.3114C30.3491 10.2109 30.0243 9.363 29.3749 8.76766C28.7435 8.15429 27.7873 7.8476 26.5065 7.8476C25.6586 7.8476 24.8287 7.99192 24.0169 8.28057C23.205 8.55118 22.5195 8.921 21.9603 9.39006L20.8778 7.44169C21.6175 6.84635 22.5015 6.39534 23.5298 6.08866C24.5761 5.76393 25.6676 5.60156 26.8041 5.60156C28.7705 5.60156 30.2859 6.07963 31.3503 7.03578C32.4147 7.99192 32.9469 9.4532 32.9469 11.4196V20.079H30.4844ZM25.7758 20.2414C24.7114 20.2414 23.7733 20.061 22.9615 19.7002C22.1677 19.3394 21.5543 18.8432 21.1214 18.2118C20.6884 17.5624 20.4719 16.8317 20.4719 16.0199C20.4719 15.2442 20.6523 14.5406 21.0131 13.9092C21.392 13.2778 21.9963 12.7726 22.8262 12.3938C23.6741 12.0149 24.8107 11.8255 26.2358 11.8255H30.782V13.6927H26.3441C25.0452 13.6927 24.1702 13.9092 23.7192 14.3422C23.2682 14.7751 23.0427 15.2983 23.0427 15.9117C23.0427 16.6153 23.3223 17.1835 23.8816 17.6165C24.4408 18.0314 25.2166 18.2389 26.2088 18.2389C27.183 18.2389 28.0309 18.0224 28.7525 17.5894C29.4921 17.1565 30.0243 16.5251 30.3491 15.6952L30.8632 17.4812C30.5204 18.3291 29.9161 19.0056 29.0502 19.5107C28.1842 19.9978 27.0928 20.2414 25.7758 20.2414Z" fill="#5F6AFF"/>
<path d="M13.5845 1.13657H16.2905V20.079H13.5845V1.13657ZM2.70607 20.079H0V1.13657H2.70607V20.079ZM13.828 11.6361H2.43546V9.28183H13.828V11.6361Z" fill="#5F6AFF"/>
</svg></div>
 </p>
            </div> */}
            <div className="login-form">
                <form className="form-login"  onSubmit={handleLogin}>
                    <div className="login-form-group">
                        <input type="text" placeholder="Usuario" name="usuario" required className="form-input"  value={formData.email}
                        onChange={(e) => setFormData({ ...formData, email: e.target.value })} />
                        <img src={user} alt="Icono de usuario" width={24} height={24} />
                    </div>
                    <div className='password-container'>
                        <input
                            type={passwordVisible ? 'text' : 'password'}
                            name="password"
                            placeholder="Password"
                            value={formData.password}
                            onChange={(e) => setFormData({ ...formData, password: e.target.value })}
                            autoComplete="current-password"
                            className='login-password'
                        />
                        <span className="eye-button" onClick={handleTogglePassword}>
                        <img src={passwordVisible ? eye : eyeslash} alt="Icono de contraseña" width={24} height={24} />
                        </span>
                    </div>
                    <div className="login-form-text">
                        <div className="remember-me">
                        <input type="checkbox" name="recordar" id="recordar" className="form-checkbox" />
                        <label htmlFor="recordar" className="form-label">Remember me</label>
                        </div>
                        <p className="forgot-password">Forgot Password?</p>
                    </div>
                    <div className="login-form-group-button">
                        <button type="submit" className="form-button"onClick={handleLogin}>Iniciar sesión</button>
                    </div>
                </form>
            </div>
        </div>
    );
}

export default Login;
